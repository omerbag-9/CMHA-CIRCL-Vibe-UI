<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Details - CRCL</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/utilities.css">
    <link rel="stylesheet" href="../../css/mobile-frame.css">
</head>
<body>
    <div class="mobile-frame">
        <div class="phone-device">
            <div class="phone-screen">
                <!-- Mobile Top Bar -->
                <div class="mobile-top-bar">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <a href="dashboard.html" style="color: black; text-decoration: none; font-size: 24px; line-height: 1; padding: 4px;">â†</a>
                        <div>
                            <h1 style="font-size: 20px; margin: 0; font-weight: 700;">Case Details</h1>
                            <div style="color: black; font-size: 13px; opacity: 0.9; margin-top: 6px; font-weight: 500;" id="case-id-display">
                                Loading...
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mobile Content -->
                <div class="mobile-content">
                    <div id="case-content">
                        <!-- Case details will be loaded here -->
                    </div>
                    
                    <!-- Action Buttons -->
                    <div id="action-buttons" style="margin-top: 20px;">
                        <!-- Action buttons will be rendered based on case status -->
                    </div>
                </div>

                <!-- Mobile Bottom Navigation -->
                <div class="mobile-bottom-nav">
                    <a href="dashboard.html" class="mobile-nav-item">
                        <span class="nav-icon">ğŸ </span>
                        <span>Home</span>
                    </a>
                    <a href="cases.html" class="mobile-nav-item active">
                        <span class="nav-icon">ğŸ“‹</span>
                        <span>My Cases</span>
                    </a>
                    <a href="chat.html" class="mobile-nav-item">
                        <span class="nav-icon">ğŸ’¬</span>
                        <span>Messages</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Close Case Modal -->
    <div class="mobile-modal" id="close-case-modal">
        <div class="mobile-modal-content">
            <div class="mobile-modal-header">
                <h3 class="mobile-modal-title">Close Case</h3>
                <button class="mobile-modal-close" onclick="closeModal()">Ã—</button>
            </div>
            <div style="background: #e3f2fd; padding: 14px; border-radius: 10px; margin-bottom: 18px; border: 2px solid #2196F3;">
                <div style="font-size: 13px; color: #1a1a1a; font-weight: 600;">ğŸ“… 48-hour follow-up will be automatically scheduled</div>
            </div>
            <div class="mobile-form-group">
                <label class="mobile-form-label">Outcome *</label>
                <select class="mobile-form-select" id="closure-outcome" required>
                    <option value="">Select outcome</option>
                    <option value="resolved">âœ“ Resolved - Person is stable</option>
                    <option value="referred">ğŸ¥ Referred to Services</option>
                    <option value="escalated">ğŸš¨ Escalated to Hospital</option>
                    <option value="other">ğŸ“ Other</option>
                </select>
            </div>
            <div class="mobile-form-group">
                <label class="mobile-form-label">Notes *</label>
                <textarea class="mobile-form-textarea" id="closure-notes" placeholder="Describe what happened, actions taken, and current status of person in crisis..." required></textarea>
            </div>
            <div class="mobile-form-group">
                <label class="mobile-form-label">Time on Site</label>
                <input type="text" class="mobile-form-input" id="time-on-site" readonly style="background: #f5f5f5;">
            </div>
            <button class="mobile-btn mobile-btn-success mobile-btn-full" onclick="submitCloseCaseForm()">âœ“ Close Case & Schedule Follow-up</button>
        </div>
    </div>

    <script src="../../js/utils.js"></script>
    <script src="../../js/data.js"></script>
    <script src="../../js/dummy-data.js"></script>
    <script src="../../js/init-data.js"></script>
    <script src="../../js/auth.js"></script>
    <script src="../../js/app.js"></script>
    <script src="../../js/pages/responder-case-detail.js"></script>
</body>
</html>

